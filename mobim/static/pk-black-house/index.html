<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>xxxx</title>
<link rel="stylesheet" type="text/css" href="http://cdn.mobimtech.com/www/ivp/v4/style/new_picture.css" media="all" />
<link rel="stylesheet" type="text/css" href="http://cdn.mobimtech.com/www/ivp/v4/style/common.css" media="all" />
<link skin="themeskin" rel="stylesheet" type="text/css" href="http://cdn.mobimtech.com/www/ivp/v4/style/theme_1.css?v=5273084">
<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="http://cdn.mobimtech.com/www/ivp/v4/js/plugin/jquery/jquery.tinyscrollbar.min.js"></script>
<script type="text/javascript" src="js/moment-with-locales.min.js"></script>
<script>
var IMI = IMI || {};
IMI.masterURL = '//localhost:8081/';
var liveHost = IMI.masterURL;
var _ivp = _ivp || {};
_ivp.auth = Math.random() > 0.4 ? 1 : 0;
_ivp.userId = Math.random() > 0.4 ? -1 : 101208;

// 测试环境
IMI.masterURL = '//aimi.mobimtech.com/';
liveHost = IMI.masterURL;
_ivp.auth = 0;
_ivp.userId = 101208;
_ivp.imToken = "c8j5wkl9xv4dwjqyfl9do";
IMI.staticUrl = "//static.mobimtech.com/ivp/";
var _r = Math.random();
if(_r > 0.4){
	_ivp.roomId = "104416-1-8bd166252479e0a4c6170a078a7fde5c";
	_ivp.hostId = 104416;
}else{
	_ivp.roomId = "103573-1-ac5142183d2d82b6c1f3c4634dd03fb9";
	_ivp.hostId = 103573;
}

/**
 * 格式化输出 
 * @param {} template 模板，占位符为{}，具体内容，依次排在后面，或者数组
 * @return {}
 */
 function fm(template) {// 接收的参数为两种类型，(template,1,2,...) 或者(template,[1,3,...])
	var arr = [];
	if (arguments.length == 2 && typeof arguments[1] == 'object')
		arr = arr.concat(arguments[1]);
	else {
		for (var i = 1; i < arguments.length; i++) {
			arr.push(arguments[i]);
		}
	}
	for (var i = 0; i<arr.length;i++) {
		template = template.replace(/{}/, arr[i]);
	}
    arr.splice(0,arr.length);
    arr = null;
	return template;
}
/**
 * 获取用户头像地址
 */
 function getUserAvatar(avatar){
	if(!avatar) {
		return '';
	}
	if(avatar.indexOf("//") === 0) {
		return avatar;
	}
	//去掉写死http://开头的 http:
	if(avatar.indexOf("http") === 0) {
		return avatar.replace('http:','');
	}
	return IMI.staticUrl + avatar.substring(1);
}
var Main = {};
Main.Showpanel = (function($) {
    var scrollXY = function() {
        var a = document.documentElement;
        return {
            x : self.pageXOffset || a && a.scrollLeft || document.body.scrollLeft,
            y : self.pageYOffset || a && a.scrollTop || document.body.scrollTop
        }
    };
    var closeMask = function() {
		$("#mask").hide();
        $("#divmask").hide();
    }
    var showMask = function(zIndex) {
        if ($("#divmask")) {
            $("#divmask").css("height", $(document).height());
            $("#divmask").css("width", $(document).width());
            $("#divmask").css("z-index", parseInt(zIndex) - 1);
            $("#divmask").show();
        }
    }

    return {
        /**
         * 获取滚动的横轴和纵轴
         */
        getScrollXY : scrollXY,
        /**
         * 显示面板
         */
        showDivPanel : function(divId, hideMask) {
    	var top, left;
    	try{
    		var w = $("#" + divId).width();
    		var h = $("#" + divId).height();
    		var resultH = $(window).height();
    		var resultW = $(window).width();
    		top = (resultH - h)/2;
    		left = (resultW - w)/2;
    	}catch(e){
    		top = ($(window).height() - $("#" + divId).height()) / 2 + scrollXY().y;
            left = ($(window).width() - $("#" + divId).width()) / 2;
    	}
    		top = top >= 0 ? top : 0;
            $("#" + divId).css({
                        position : 'fixed',
                        top : top,
                        left : left,
                        'z-index' : 99999
                    }).show();
            if (!hideMask) {
                showMask($("#" + divId).css("z-index"));
            }
        },
        closeDivPanel : function(divId) {
            if ($("#" + divId)) {
                $("#" + divId).hide();
                closeMask()
            }
        }
    }
})(jQuery);

var showDivPanel = Main.Showpanel.showDivPanel;
var closeDivPanel = Main.Showpanel.closeDivPanel;
;$(function(){
	// $("#lt_panel_scroll").tinyscrollbar({"wheel":54,"size":200});
	// $("#lt_panel_scroll").tinyscrollbar_update();
});
</script>
<link rel="stylesheet" type="text/css" href="style/pk_bh.css" media="all" />
</head>
<body style="background:#333;">
<br><br><br>
<div class="pk_bh_avatar"><span class="pk_bh_i"></span><span class="pk_bh_i"></span><span class="pk_bh_lock"></span></div>

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

<!-- ++ -->
<div class="pk_bh_panel_common" id="pk_bh_panel_common" style="display: ;">
	<div class="pk_bh_panel_common_wrap">
		<div class="pk_bh_panel_common_title">提示<span class="pk_bh_panel_close" onclick="closeDivPanel('pk_bh_panel_common')"></span></div>
		<div class="pk_bh_common_content">
			<p class="pk_bh_panel_ms1">你被关入小黑屋，暂时无法PK！用户花费<span class="pk_bh_c1">60000</span>金豆购买“通行证”可提前解救。</p>
		</div>
		<div class="pk_bh_common_sub"><span class="pk_bh_common_btn1 noSelect" onclick="closeDivPanel('pk_bh_panel_common')">剩余时间 72:56:43</span></div>
	</div>
</div>

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

<!-- ++ -->
<div class="pk_bh_user_panel" id="pk_bh_user_panel" style="display: ;">
	<div class="pk_bh_user_panel_wrap">
		<div class="pk_bh_user_panel_title"><span class="pk_bh_user_panel_close" onclick="closeDivPanel('pk_bh_user_panel')"></span></div>
		<div class="pk_bh_user_panel_content">
            <p>你被关入小黑屋，暂时无法PK！</p>
            <p>剩余时间 72:56:43</p>
            <p>花费<span class="pk_bh_c2">60000</span>金豆购买“通行证”</p>
            <p>可提前解救。</p>
		</div>
		<div class="pk_bh_common_sub"><span class="pk_bh_common_btn3 noSelect" onclick="closeDivPanel('pk_bh_user_panel')">立即解救</span></div>
	</div>
</div>
</body>
</html>